<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>財務提領計算器</title>
    <link rel="stylesheet" href="style.css">
    <!-- 引入 Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* 固定圖表容器尺寸 */
        .chart-container {
            width: 400px;
            height: 300px;
            margin: auto;
        }
    </style>
</head>
<body>
    <h1>財務提領蒙地卡羅模擬</h1>

    <form id="simulationForm">
        <label>首年提領金額:</label>
        <input type="number" id="annual_spending" value="600000"><br>

        <label>投資組合年化報酬率 (%):</label>
        <input type="number" id="expected_return" value="6" step="0.1"><br>

        <label>投資組合波動率 (%):</label>
        <input type="number" id="volatility" value="15" step="0.1"><br>

        <label>通膨率 (%):</label>
        <input type="number" id="inflation_rate" value="2" step="0.1"><br>

        <label>模擬次數:</label>
        <input type="number" id="num_simulations" value="10000"><br>

        <button type="button" onclick="findRequiredCapital()">計算成功率 95% 所需初始資金</button>
    </form>

    <h2>結果: <span id="result"></span></h2>

    <!-- 結果折線圖 -->
    <div class="chart-container">
        <canvas id="capitalChart"></canvas>
    </div>

    <!-- 匯出 CSV 的按鈕 -->
    <button type="button" onclick="exportCSV()">匯出結果至 Excel (CSV)</button>

    <script src="script.js"></script>
</body>
</html>
